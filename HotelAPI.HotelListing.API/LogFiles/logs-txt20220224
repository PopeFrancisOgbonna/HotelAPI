2022-02-24 00:48:35.712 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/country/3 - -
2022-02-24 00:48:35.862 +01:00 [INF] Executing endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API)'
2022-02-24 00:48:37.681 +01:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelAPI.HotelListing.API.Controllers.CountryController (HotelAPI.HotelListing.API).
2022-02-24 00:48:39.395 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'HotelDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-02-24 00:49:21.821 +01:00 [ERR] An error occurred using the connection to database 'HotelListing_db' on server '(localdb)\mssqllocaldb'.
2022-02-24 00:49:30.866 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HotelAPI.HotelListing.API.Data.HotelDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=36105; handshake=80; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:46beaa27-b3ac-4308-a52e-8dcf52a01bd6
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=36105; handshake=80; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:46beaa27-b3ac-4308-a52e-8dcf52a01bd6
Error Number:-2,State:0,Class:11
2022-02-24 00:49:32.600 +01:00 [ERR] Something went wrong in the GetCountries
2022-02-24 00:49:32.601 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-02-24 00:49:32.602 +01:00 [INF] Executed action HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API) in 54920.622ms
2022-02-24 00:49:32.602 +01:00 [INF] Executed endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API)'
2022-02-24 00:49:32.603 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/country/3 - - - 500 - text/plain;+charset=utf-8 56890.3667ms
2022-02-24 00:51:14.147 +01:00 [INF] Application is starting!
2022-02-24 00:51:49.490 +01:00 [INF] Now listening on: https://localhost:5001
2022-02-24 00:51:49.498 +01:00 [INF] Now listening on: http://localhost:5000
2022-02-24 00:51:49.499 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-02-24 00:51:49.760 +01:00 [INF] Hosting environment: Development
2022-02-24 00:51:49.771 +01:00 [INF] Content root path: C:\Users\POPE\source\repos\HotelAPI\HotelAPI.HotelListing.API
2022-02-24 00:51:56.970 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-02-24 00:51:58.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 1607.7243ms
2022-02-24 00:52:02.635 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-02-24 00:52:03.445 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 813.1541ms
2022-02-24 00:53:22.425 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/country/3 - -
2022-02-24 00:53:22.614 +01:00 [INF] Executing endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API)'
2022-02-24 00:53:22.831 +01:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelAPI.HotelListing.API.Controllers.CountryController (HotelAPI.HotelListing.API).
2022-02-24 00:54:06.735 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'HotelDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-02-24 00:56:15.223 +01:00 [ERR] Failed executing DbCommand (40,451ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2022-02-24 00:56:27.533 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HotelAPI.HotelListing.API.Data.HotelDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d53c0a45-7e70-489c-9234-964a6f9ef03f
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d53c0a45-7e70-489c-9234-964a6f9ef03f
Error Number:-2,State:0,Class:11
2022-02-24 00:56:30.573 +01:00 [ERR] Something went wrong in the GetCountries
2022-02-24 00:56:30.781 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-02-24 00:56:30.799 +01:00 [INF] Executed action HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API) in 187940.5832ms
2022-02-24 00:56:30.801 +01:00 [INF] Executed endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API)'
2022-02-24 00:56:31.315 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/country/3 - - - 500 - text/plain;+charset=utf-8 188890.4352ms
2022-02-24 00:56:43.757 +01:00 [INF] Application is shutting down...
2022-02-24 01:02:52.846 +01:00 [INF] Application is starting!
2022-02-24 01:04:44.127 +01:00 [INF] Now listening on: https://localhost:5001
2022-02-24 01:04:44.180 +01:00 [INF] Now listening on: http://localhost:5000
2022-02-24 01:04:44.180 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-02-24 01:04:44.180 +01:00 [INF] Hosting environment: Development
2022-02-24 01:04:44.180 +01:00 [INF] Content root path: C:\Users\POPE\source\repos\HotelAPI\HotelAPI.HotelListing.API
2022-02-24 01:05:14.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-02-24 01:05:21.605 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 7414.1078ms
2022-02-24 01:05:40.224 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-02-24 01:05:41.268 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1043.7667ms
2022-02-24 01:06:14.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/country - -
2022-02-24 01:06:15.740 +01:00 [INF] Executing endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountries (HotelAPI.HotelListing.API)'
2022-02-24 01:06:17.389 +01:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelAPI.HotelListing.API.Controllers.CountryController (HotelAPI.HotelListing.API).
2022-02-24 01:06:35.320 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'HotelDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-02-24 01:08:29.917 +01:00 [INF] Executed DbCommand (11,972ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2022-02-24 01:08:31.534 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelAPI.HotelListing.API.DTO.CountryDTO, HotelAPI.HotelListing.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-02-24 01:08:40.758 +01:00 [INF] Executed action HotelAPI.HotelListing.API.Controllers.CountryController.GetCountries (HotelAPI.HotelListing.API) in 143355.0356ms
2022-02-24 01:08:40.760 +01:00 [INF] Executed endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountries (HotelAPI.HotelListing.API)'
2022-02-24 01:08:40.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/country - - - 200 171 application/json;+charset=utf-8 146159.5732ms
2022-02-24 01:09:38.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/country/2 - -
2022-02-24 01:09:38.335 +01:00 [INF] Executing endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API)'
2022-02-24 01:09:39.182 +01:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelAPI.HotelListing.API.Controllers.CountryController (HotelAPI.HotelListing.API).
2022-02-24 01:09:40.449 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'HotelDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-02-24 01:09:53.511 +01:00 [INF] Executed DbCommand (10,345ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2022-02-24 01:09:53.682 +01:00 [INF] Executing OkObjectResult, writing value of type 'HotelAPI.HotelListing.API.DTO.CountryDTO'.
2022-02-24 01:09:53.695 +01:00 [INF] Executed action HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API) in 14512.5874ms
2022-02-24 01:09:53.695 +01:00 [INF] Executed endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API)'
2022-02-24 01:09:53.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/country/2 - - - 200 197 application/json;+charset=utf-8 15405.3506ms
2022-02-24 01:10:07.720 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/country/3 - -
2022-02-24 01:10:07.721 +01:00 [INF] Executing endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API)'
2022-02-24 01:10:07.721 +01:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelAPI.HotelListing.API.Controllers.CountryController (HotelAPI.HotelListing.API).
2022-02-24 01:10:07.749 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'HotelDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-02-24 01:10:07.762 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2022-02-24 01:10:07.763 +01:00 [INF] Executing OkObjectResult, writing value of type 'HotelAPI.HotelListing.API.DTO.CountryDTO'.
2022-02-24 01:10:07.765 +01:00 [INF] Executed action HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API) in 43.6176ms
2022-02-24 01:10:07.766 +01:00 [INF] Executed endpoint 'HotelAPI.HotelListing.API.Controllers.CountryController.GetCountry (HotelAPI.HotelListing.API)'
2022-02-24 01:10:07.766 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/country/3 - - - 200 214 application/json;+charset=utf-8 46.2067ms
2022-02-24 01:11:18.574 +01:00 [INF] Application is shutting down...
2022-02-24 01:41:47.722 +01:00 [INF] Application is starting!
2022-02-24 01:41:59.707 +01:00 [INF] Now listening on: https://localhost:5001
2022-02-24 01:41:59.715 +01:00 [INF] Now listening on: http://localhost:5000
2022-02-24 01:41:59.715 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-02-24 01:41:59.715 +01:00 [INF] Hosting environment: Development
2022-02-24 01:41:59.716 +01:00 [INF] Content root path: C:\Users\POPE\source\repos\HotelAPI\HotelAPI.HotelListing.API
2022-02-24 01:42:04.743 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2022-02-24 01:42:13.107 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 8039.4281ms
2022-02-24 01:42:14.219 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2022-02-24 01:42:16.247 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2027.8954ms
2022-02-24 01:43:21.206 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/hotel - -
2022-02-24 01:43:21.620 +01:00 [INF] Executing endpoint 'HotelAPI.HotelListing.API.Controllers.HotelController.GetHotels (HotelAPI.HotelListing.API)'
2022-02-24 01:43:22.137 +01:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelAPI.HotelListing.API.Controllers.HotelController (HotelAPI.HotelListing.API).
2022-02-24 01:43:27.639 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'HotelDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-02-24 01:43:48.695 +01:00 [ERR] An error occurred using the connection to database 'HotelListing_db' on server '(localdb)\mssqllocaldb'.
2022-02-24 01:43:51.124 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HotelAPI.HotelListing.API.Data.HotelDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=12609; handshake=394; [Login] initialization=113; authentication=248; [Post-Login] complete=1482; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f941459f-1352-412e-9427-f284ca143154
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=12609; handshake=394; [Login] initialization=113; authentication=248; [Post-Login] complete=1482; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f941459f-1352-412e-9427-f284ca143154
Error Number:-2,State:0,Class:11
2022-02-24 01:43:52.745 +01:00 [ERR] Something went wrong in GetHotels: Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=12609; handshake=394; [Login] initialization=113; authentication=248; [Post-Login] complete=1482; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HotelAPI.HotelListing.API.Repository.GenericRepository`1.GetAll(Expression`1 expression, Func`2 orderby, List`1 includes) in C:\Users\POPE\source\repos\HotelAPI\HotelAPI.HotelListing.API\Repository\GenericRepository.cs:line 67
   at HotelAPI.HotelListing.API.Controllers.HotelController.GetHotels() in C:\Users\POPE\source\repos\HotelAPI\HotelAPI.HotelListing.API\Controllers\HotelController.cs:line 36
ClientConnectionId:f941459f-1352-412e-9427-f284ca143154
Error Number:-2,State:0,Class:11
2022-02-24 01:43:52.888 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-02-24 01:43:52.906 +01:00 [INF] Executed action HotelAPI.HotelListing.API.Controllers.HotelController.GetHotels (HotelAPI.HotelListing.API) in 30754.3172ms
2022-02-24 01:43:52.910 +01:00 [INF] Executed endpoint 'HotelAPI.HotelListing.API.Controllers.HotelController.GetHotels (HotelAPI.HotelListing.API)'
2022-02-24 01:43:52.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/hotel - - - 500 - text/plain;+charset=utf-8 31769.7266ms
2022-02-24 01:44:49.600 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/hotel - -
2022-02-24 01:44:49.604 +01:00 [INF] Executing endpoint 'HotelAPI.HotelListing.API.Controllers.HotelController.GetHotels (HotelAPI.HotelListing.API)'
2022-02-24 01:44:49.605 +01:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelAPI.HotelListing.API.Controllers.HotelController (HotelAPI.HotelListing.API).
2022-02-24 01:44:49.764 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'HotelDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-02-24 01:44:51.440 +01:00 [INF] Executed DbCommand (1,054ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2022-02-24 01:44:51.702 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelAPI.HotelListing.API.DTO.HotelDTO, HotelAPI.HotelListing.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-02-24 01:44:52.672 +01:00 [INF] Executed action HotelAPI.HotelListing.API.Controllers.HotelController.GetHotels (HotelAPI.HotelListing.API) in 3066.5957ms
2022-02-24 01:44:52.672 +01:00 [INF] Executed endpoint 'HotelAPI.HotelListing.API.Controllers.HotelController.GetHotels (HotelAPI.HotelListing.API)'
2022-02-24 01:44:52.672 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/hotel - - - 200 296 application/json;+charset=utf-8 3079.5696ms
2022-02-24 01:47:49.638 +01:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/hotel/3 - -
2022-02-24 01:47:49.695 +01:00 [INF] Executing endpoint 'HotelAPI.HotelListing.API.Controllers.HotelController.GetHotel (HotelAPI.HotelListing.API)'
2022-02-24 01:47:49.788 +01:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelAPI.HotelListing.API.Controllers.HotelController (HotelAPI.HotelListing.API).
2022-02-24 01:47:49.961 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'HotelDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-02-24 01:47:51.162 +01:00 [INF] Executed DbCommand (710ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2022-02-24 01:47:51.214 +01:00 [INF] Executing OkObjectResult, writing value of type 'HotelAPI.HotelListing.API.DTO.HotelDTO'.
2022-02-24 01:47:51.216 +01:00 [INF] Executed action HotelAPI.HotelListing.API.Controllers.HotelController.GetHotel (HotelAPI.HotelListing.API) in 1427.579ms
2022-02-24 01:47:51.216 +01:00 [INF] Executed endpoint 'HotelAPI.HotelListing.API.Controllers.HotelController.GetHotel (HotelAPI.HotelListing.API)'
2022-02-24 01:47:51.216 +01:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/hotel/3 - - - 200 93 application/json;+charset=utf-8 1578.9058ms
2022-02-24 01:51:30.835 +01:00 [INF] Application is shutting down...
